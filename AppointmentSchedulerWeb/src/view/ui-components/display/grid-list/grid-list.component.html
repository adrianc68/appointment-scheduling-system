<div class="grid-container">

  <div class="grid-header">
    <div class="grid-search">
      <div class="grid-input-search">
        <mat-icon class="t-primary">search</mat-icon>
        <input class="input" type="text" [(ngModel)]="searchTerm" (ngModelChange)="applyFilters()"
          placeholder="{{TranslationCodes.TC_SEARCH_INPUT_PLACEHOLDER_LABEL | translate}}" />
      </div>

      <div class="filter-button">
        <button class="button bordered" (click)="toggleFilters()">
          <mat-icon>filter_alt</mat-icon>
          {{TranslationCodes.TC_FILTER_BUTTON_LABEL | translate }}
        </button>
      </div>
    </div>


    <div class="grid-filters" [ngClass]="{'active': setFilters}">
      <div class="filter-dropdowns">

        <div *ngFor="let filter of filters">
          <label>{{ filter.label }}</label>

          <ng-container [ngSwitch]="filter.type">
            <input class="input" *ngSwitchCase="'boolean'" type="checkbox" [(ngModel)]="activeFilters[filter.key]"
              (change)="applyFilters()" />

            <input class="input" *ngSwitchCase="'date'" type="date" [(ngModel)]="activeFilters[filter.key]"
              (change)="applyFilters()" />

            <input class="input" *ngSwitchCase="'datetime'" type="datetime-local" [(ngModel)]="activeFilters[filter.key]"
              (change)="applyFilters()" />

            <select class="input" *ngSwitchCase="'enum'" (change)="onEnumChange($event, filter)">
              <option *ngFor="let option of filter.enumValues" [value]="option">{{ option | translate }}</option>
            </select>
          </ng-container>
        </div>

      </div>
      <div class="orders">
        <!--<div class="sort-buttons">-->
        <!--<button *ngFor="let sort of sortOptions" (click)="toggleSort(sort.key)"-->
        <!--  [class.active]="activeSort === sort.key">-->
        <!--  {{ sort.label }} ({{ sortDirection }})-->
        <!--</button>-->
        <!--</div>-->
      </div>
    </div>
  </div>

  <div class="grid-content">
    <div class="grid-table">
      <div class="grid-title">
        <span class="t-subtle">{{title | translate}}</span>
      </div>
      <div class="grid-items">
        <ng-container *ngFor="let item of filteredItems">
          <div class="grid-item">
            <ng-container *ngComponentOutlet="cardComponent; inputs: { data: item }">
            </ng-container>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
