<div class="grid-container">

  <div class="grid-header">
    <div class="grid-search">
      <div class="grid-input-search input container">
        <label class="input-icon" for="search">
          <mat-icon>search</mat-icon>
        </label>
        <input id="search" class="input" type="text" [(ngModel)]="searchTerm" (ngModelChange)="applyFilters()"
          placeholder="{{TranslationCodes.TC_SEARCH_INPUT_PLACEHOLDER_LABEL | translate}}" />
      </div>

      <div class="filter-button">
        <button class="button bordered" (click)="toggleFilters()">
          <mat-icon class="button-icon">filter_alt</mat-icon>
          {{TranslationCodes.TC_FILTER_BUTTON_LABEL | translate }}
        </button>
      </div>


      <button class="button bordered wd-auto" (click)="clearFilters()">{{TranslationCodes.TC_CLEAR_FILTERS_LABEL |
        translate}}</button>
    </div>

    <div class="grid-filters" [ngClass]="{'active': setFilters}">
      <div class="filters">
        <ng-container class="filters" *ngFor="let filter of filters">
          <ng-container [ngSwitch]="filter.type">

            <div *ngSwitchCase="'enum'">
              <label>{{ filter.label }}</label>
              <div *ngFor="let option of filter.enumValues">

                <div class="input container">
                  <input id="{{option}}" type="checkbox" [checked]=""
                    (change)="toggleFilter(filter.key, option, 'enum')" />
                  <label for="{{option}}">{{option | translate}}</label>
                </div>


              </div>
            </div>


            <div class="multi-option-container" *ngSwitchCase="'multi'">
              <app-multi-select-filter label="Tipo de Evento"
                [options]="['Reunión de 15 min', 'Reunión de 30 min', 'Reunión Secreta', 'TTest']"
                (selectionChanged)="onFilterChange($event)">
              </app-multi-select-filter>
            </div>

            <div *ngSwitchCase="'boolean'">
              <label>{{ filter.label }}</label>
              <button type="button" [ngClass]="{'active': activeFilters[filter.key]}"
                (click)="toggleFilter(filter.key, null, 'boolean')">
                {{ activeFilters[filter.key] ? 'Activo' : 'Inactivo' }}
              </button>
            </div>

            <div class="input container wd-auto" *ngSwitchCase="'date'">
              <label class="input-placeholder" for="{{filter.label}}">{{ filter.label }}</label>
              <input id="{{filter.label}}" class="input none" type="date"
                [indeterminate]="activeFilters[filter.key] === undefined" [value]="activeFilters[filter.key] || ''"
                [(ngModel)]="activeFilters[filter.key]" (change)="applyFilters()" />
            </div>

            <div class="input container wd-auto" *ngSwitchCase="'datetime'">
              <label class="input-placeholder" for="{{filter.label}}">{{ filter.label }}</label>
              <input id="{{filter.label}}" class="input none" type="datetime-local"
                [value]="activeFilters[filter.key] || ''" [(ngModel)]="activeFilters[filter.key]"
                (change)="applyFilters()" />
            </div>



          </ng-container>
        </ng-container>
      </div>





      <div class="orders">
        <!--<div class="sort-buttons">-->
        <!--<button *ngFor="let sort of sortOptions" (click)="toggleSort(sort.key)"-->
        <!--  [class.active]="activeSort === sort.key">-->
        <!--  {{ sort.label }} ({{ sortDirection }})-->
        <!--</button>-->
        <!--</div>-->
      </div>
    </div>
  </div>

  <div class="grid-content">
    <div class="grid-table">
      <div class="grid-title">
        <span class="t-subtle">{{title | translate}}</span>
      </div>
      <div class="grid-items">
        <ng-container *ngFor="let item of filteredItems">
          <div class="grid-item">
            <ng-container *ngComponentOutlet="cardComponent; inputs: { data: item }">
            </ng-container>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
